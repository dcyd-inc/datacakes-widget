(()=>{class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const e=document.getElementById("camera-capture-template");this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.videoElement=this.shadowRoot.querySelector("video"),this.canvasElement=this.shadowRoot.querySelector("canvas")}connectedCallback(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((e=>{this.videoElement.srcObject=e,this.videoElement.play()})).catch((e=>{console.error("Error accessing camera:",e)}))}capture(){const e=this.canvasElement.getContext("2d");return this.canvasElement.width=this.videoElement.videoWidth,this.canvasElement.height=this.videoElement.videoHeight,e.drawImage(this.videoElement,0,0),this.canvasElement.toDataURL("image/png")}}window.customElements.define("camera-capture",e)})();